{
  "code": "import ADManager from \"../TJ/Admanager\";\r\nimport { _Gold } from \"./Lwg\";\r\nimport TweenMgr from \"./TweenMgr\";\r\nimport { _Game } from \"./_Game\";\r\nexport class TreasureItem {\r\n    constructor(id, obj, ui) {\r\n        this._range = [];\r\n        this.isAD = false;\r\n        this.id = id;\r\n        this.ui = ui;\r\n        let baoshi = obj.getChildByName(\"baoshi\");\r\n        this.baoshi = baoshi;\r\n        let frame = obj.getChildByName(\"Frame\");\r\n        this.box = obj.getChildByName(\"Box\");\r\n        this.box.skin = \"Game/UI/TreasureNew/baoxiang.png\";\r\n        this.frame = frame;\r\n        this.num = frame.getChildByName(\"Num\");\r\n        this.g1 = frame.getChildByName(\"G1\");\r\n        this.g2 = frame.getChildByName(\"G2\");\r\n        this._close = true;\r\n        this._gold = TweenMgr.randomInRange_i(5, 10);\r\n        let ox = obj.x;\r\n        let oy = obj.y;\r\n        let offset = 40;\r\n        this._range = [oy - offset, oy + offset, ox - offset, ox + offset];\r\n        this.baoshi.visible = false;\r\n        this.frame.visible = false;\r\n        this.num.value = this._gold.toString();\r\n        if (this._gold < 7) {\r\n            this.g2.visible = false;\r\n            this.g1.x = 47;\r\n        }\r\n    }\r\n    clickItem() {\r\n        if (this._close && this.ui.leftTimes > 0) {\r\n            if (this.isAD) {\r\n                let self = this;\r\n                ADManager.ShowReward(() => {\r\n                    this.ClickBox();\r\n                }, null);\r\n            }\r\n            else {\r\n                this.ClickBox();\r\n            }\r\n        }\r\n    }\r\n    ClickBox() {\r\n        console.log(\"点击宝箱\");\r\n        this.ui.leftTimes -= 1;\r\n        this.ui.boxOpenCount++;\r\n        if (this.ui.boxOpenCount == 9) {\r\n            if (_Game._BlinkPencils._randomNoHaveOne() != null) {\r\n                this.openshow2();\r\n                return;\r\n            }\r\n        }\r\n        this._close = false;\r\n        _Gold._getGoldAni_Heap(Laya.stage, 15, 55, 51, `Game/UI/Victory/jb.png`, null, null, null, () => {\r\n            _Gold._addGold(this._gold);\r\n        });\r\n        this.frame.visible = true;\r\n        this.ui.checkTimes(0);\r\n    }\r\n    openshow2() {\r\n        this.g1.visible = false;\r\n        this.g2.visible = false;\r\n        this.num.visible = false;\r\n        this.baoshi.visible = true;\r\n        this.frame.visible = true;\r\n        this.ui.checkTimes(0);\r\n    }\r\n    setAD() {\r\n        this.isAD = true;\r\n        this.box.skin = \"Game/UI/TreasureNew/baoxiang_shipin.png\";\r\n    }\r\n}\r\n",
  "references": [
    "C:/Users/tomato/Desktop/Drawing_2.5.0/src/script/TJ/Admanager.ts",
    "C:/Users/tomato/Desktop/Drawing_2.5.0/src/script/Frame/Lwg.ts",
    "C:/Users/tomato/Desktop/Drawing_2.5.0/src/script/Frame/TweenMgr.ts",
    "C:/Users/tomato/Desktop/Drawing_2.5.0/src/script/Frame/_Game.ts",
    "C:/Users/tomato/Desktop/Drawing_2.5.0/src/script/Frame/_Test.ts"
  ]
}
