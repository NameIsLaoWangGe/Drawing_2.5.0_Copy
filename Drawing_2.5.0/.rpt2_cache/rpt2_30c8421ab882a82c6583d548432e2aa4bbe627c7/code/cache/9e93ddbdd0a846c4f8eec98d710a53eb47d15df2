{
  "code": "import { Tools } from \"./Lwg\";\r\nexport var OldEffects;\r\n(function (OldEffects) {\r\n    let SkinUrl;\r\n    (function (SkinUrl) {\r\n        SkinUrl[SkinUrl[\"Frame/Effects/cir_white.png\"] = 0] = \"Frame/Effects/cir_white.png\";\r\n        SkinUrl[SkinUrl[\"Frame/Effects/cir_blue.png\"] = 1] = \"Frame/Effects/cir_blue.png\";\r\n        SkinUrl[SkinUrl[\"Frame/Effects/cir_bluish.png\"] = 2] = \"Frame/Effects/cir_bluish.png\";\r\n        SkinUrl[SkinUrl[\"Frame/Effects/cir_cyan.png\"] = 3] = \"Frame/Effects/cir_cyan.png\";\r\n        SkinUrl[SkinUrl[\"Frame/Effects/cir_grass.png\"] = 4] = \"Frame/Effects/cir_grass.png\";\r\n        SkinUrl[SkinUrl[\"Frame/Effects/cir_green.png\"] = 5] = \"Frame/Effects/cir_green.png\";\r\n        SkinUrl[SkinUrl[\"Frame/Effects/cir_orange.png\"] = 6] = \"Frame/Effects/cir_orange.png\";\r\n        SkinUrl[SkinUrl[\"Frame/Effects/cir_pink.png\"] = 7] = \"Frame/Effects/cir_pink.png\";\r\n        SkinUrl[SkinUrl[\"Frame/Effects/cir_purple.png\"] = 8] = \"Frame/Effects/cir_purple.png\";\r\n        SkinUrl[SkinUrl[\"Frame/Effects/cir_red.png\"] = 9] = \"Frame/Effects/cir_red.png\";\r\n        SkinUrl[SkinUrl[\"Frame/Effects/cir_yellow.png\"] = 10] = \"Frame/Effects/cir_yellow.png\";\r\n        SkinUrl[SkinUrl[\"Frame/Effects/star_blue.png\"] = 11] = \"Frame/Effects/star_blue.png\";\r\n        SkinUrl[SkinUrl[\"Frame/Effects/star_bluish.png\"] = 12] = \"Frame/Effects/star_bluish.png\";\r\n        SkinUrl[SkinUrl[\"Frame/Effects/star_cyan.png\"] = 13] = \"Frame/Effects/star_cyan.png\";\r\n        SkinUrl[SkinUrl[\"Frame/Effects/star_grass.png\"] = 14] = \"Frame/Effects/star_grass.png\";\r\n        SkinUrl[SkinUrl[\"Frame/Effects/star_green.png\"] = 15] = \"Frame/Effects/star_green.png\";\r\n        SkinUrl[SkinUrl[\"Frame/Effects/star_orange.png\"] = 16] = \"Frame/Effects/star_orange.png\";\r\n        SkinUrl[SkinUrl[\"Frame/Effects/star_pink.png\"] = 17] = \"Frame/Effects/star_pink.png\";\r\n        SkinUrl[SkinUrl[\"Frame/Effects/star_purple.png\"] = 18] = \"Frame/Effects/star_purple.png\";\r\n        SkinUrl[SkinUrl[\"Frame/Effects/star_red.png\"] = 19] = \"Frame/Effects/star_red.png\";\r\n        SkinUrl[SkinUrl[\"Frame/Effects/star_white.png\"] = 20] = \"Frame/Effects/star_white.png\";\r\n        SkinUrl[SkinUrl[\"Frame/Effects/star_yellow.png\"] = 21] = \"Frame/Effects/star_yellow.png\";\r\n        SkinUrl[SkinUrl[\"Frame/Effects/ui_Circular_l_yellow.png\"] = 22] = \"Frame/Effects/ui_Circular_l_yellow.png\";\r\n        SkinUrl[SkinUrl[\"Frame/UI/ui_square_guang.png\"] = 23] = \"Frame/UI/ui_square_guang.png\";\r\n    })(SkinUrl = OldEffects.SkinUrl || (OldEffects.SkinUrl = {}));\r\n    let SkinStyle;\r\n    (function (SkinStyle) {\r\n        SkinStyle[\"star\"] = \"star\";\r\n        SkinStyle[\"dot\"] = \"dot\";\r\n    })(SkinStyle = OldEffects.SkinStyle || (OldEffects.SkinStyle = {}));\r\n    class EffectsBase extends Laya.Script {\r\n        onAwake() {\r\n            this.initProperty();\r\n        }\r\n        onEnable() {\r\n            this.self = this.owner;\r\n            this.selfScene = this.self.scene;\r\n            let calssName = this['__proto__']['constructor'].name;\r\n            this.self[calssName] = this;\r\n            this.timer = 0;\r\n            this.lwgInit();\r\n            this.propertyAssign();\r\n        }\r\n        lwgInit() {\r\n        }\r\n        initProperty() {\r\n        }\r\n        propertyAssign() {\r\n            if (this.startAlpha) {\r\n                this.self.alpha = this.startAlpha;\r\n            }\r\n            if (this.startScale) {\r\n                this.self.scale(this.startScale, this.startScale);\r\n            }\r\n            if (this.startRotat) {\r\n                this.self.rotation = this.startRotat;\r\n            }\r\n        }\r\n        commonSpeedXYByAngle(angle, speed) {\r\n            this.self.x += Tools.Point.SpeedXYByAngle(angle, speed + this.accelerated).x;\r\n            this.self.y += Tools.Point.SpeedXYByAngle(angle, speed + this.accelerated).y;\r\n        }\r\n        moveRules() {\r\n        }\r\n        onUpdate() {\r\n            this.moveRules();\r\n        }\r\n        onDisable() {\r\n            Laya.Pool.recover(this.self.name, this.self);\r\n            this.destroy();\r\n            Laya.Tween.clearAll(this);\r\n            Laya.timer.clearAll(this);\r\n        }\r\n    }\r\n    OldEffects.EffectsBase = EffectsBase;\r\n    function createCommonExplosion(parent, quantity, x, y, style, speed, continueTime) {\r\n        for (let index = 0; index < quantity; index++) {\r\n            let ele = Laya.Pool.getItemByClass('ele', Laya.Image);\r\n            ele.name = 'ele';\r\n            let num;\r\n            if (style === SkinStyle.star) {\r\n                num = 10 + Math.floor(Math.random() * 12);\r\n            }\r\n            else if (style === SkinStyle.dot) {\r\n                num = Math.floor(Math.random() * 12);\r\n            }\r\n            ele.skin = SkinUrl[num];\r\n            ele.alpha = 1;\r\n            parent.addChild(ele);\r\n            ele.pos(x, y);\r\n            let scirpt = ele.addComponent(commonExplosion);\r\n            scirpt.startSpeed = Math.random() * speed;\r\n            scirpt.continueTime = 2 * Math.random() + continueTime;\r\n        }\r\n    }\r\n    OldEffects.createCommonExplosion = createCommonExplosion;\r\n    class commonExplosion extends EffectsBase {\r\n        lwgInit() {\r\n            this.self.width = 25;\r\n            this.self.height = 25;\r\n            this.self.pivotX = this.self.width / 2;\r\n            this.self.pivotY = this.self.height / 2;\r\n        }\r\n        initProperty() {\r\n            this.startAngle = 360 * Math.random();\r\n            this.startSpeed = 5 * Math.random() + 8;\r\n            this.startScale = 0.4 + Math.random() * 0.6;\r\n            this.accelerated = 2;\r\n            this.continueTime = 8 + Math.random() * 10;\r\n            this.rotateDir = Math.floor(Math.random() * 2) === 1 ? 'left' : 'right';\r\n            this.rotateRan = Math.random() * 10;\r\n        }\r\n        moveRules() {\r\n            this.timer++;\r\n            if (this.rotateDir === 'left') {\r\n                this.self.rotation += this.rotateRan;\r\n            }\r\n            else {\r\n                this.self.rotation -= this.rotateRan;\r\n            }\r\n            if (this.timer >= this.continueTime / 2) {\r\n                this.self.alpha -= 0.04;\r\n                if (this.self.alpha <= 0.65) {\r\n                    this.self.removeSelf();\r\n                }\r\n            }\r\n            this.commonSpeedXYByAngle(this.startAngle, this.startSpeed + this.accelerated);\r\n            this.accelerated += 0.2;\r\n        }\r\n    }\r\n    OldEffects.commonExplosion = commonExplosion;\r\n    function createExplosion_Rotate(parent, quantity, x, y, style, speed, rotate) {\r\n        for (let index = 0; index < quantity; index++) {\r\n            let ele = Laya.Pool.getItemByClass('ele', Laya.Image);\r\n            ele.name = 'ele';\r\n            let num;\r\n            if (style === SkinStyle.star) {\r\n                num = 10 + Math.floor(Math.random() * 12);\r\n            }\r\n            else if (style === SkinStyle.dot) {\r\n                num = Math.floor(Math.random() * 12);\r\n            }\r\n            ele.skin = SkinUrl[num];\r\n            ele.alpha = 1;\r\n            parent.addChild(ele);\r\n            ele.pos(x, y);\r\n            let scirpt = ele.addComponent(Explosion_Rotate);\r\n            scirpt.startSpeed = 2 + Math.random() * speed;\r\n            scirpt.rotateRan = Math.random() * rotate;\r\n        }\r\n    }\r\n    OldEffects.createExplosion_Rotate = createExplosion_Rotate;\r\n    class Explosion_Rotate extends EffectsBase {\r\n        lwgInit() {\r\n            this.self.width = 41;\r\n            this.self.height = 41;\r\n            this.self.pivotX = this.self.width / 2;\r\n            this.self.pivotY = this.self.height / 2;\r\n        }\r\n        initProperty() {\r\n            this.startAngle = 360 * Math.random();\r\n            this.startSpeed = 5 * Math.random() + 8;\r\n            this.startScale = 0.4 + Math.random() * 0.6;\r\n            this.accelerated = 0;\r\n            this.continueTime = 5 + Math.random() * 20;\r\n            this.rotateDir = Math.floor(Math.random() * 2) === 1 ? 'left' : 'right';\r\n            this.rotateRan = Math.random() * 15;\r\n        }\r\n        moveRules() {\r\n            if (this.rotateDir === 'left') {\r\n                this.self.rotation += this.rotateRan;\r\n            }\r\n            else {\r\n                this.self.rotation -= this.rotateRan;\r\n            }\r\n            if (this.startSpeed - this.accelerated <= 0.1) {\r\n                this.self.alpha -= 0.03;\r\n                if (this.self.alpha <= 0) {\r\n                    this.self.removeSelf();\r\n                }\r\n            }\r\n            else {\r\n                this.accelerated += 0.2;\r\n            }\r\n            this.commonSpeedXYByAngle(this.startAngle, this.startSpeed - this.accelerated);\r\n        }\r\n    }\r\n    OldEffects.Explosion_Rotate = Explosion_Rotate;\r\n    function createFireworks(parent, quantity, x, y) {\r\n        for (let index = 0; index < quantity; index++) {\r\n            let ele = Laya.Pool.getItemByClass('fireworks', Laya.Image);\r\n            ele.name = 'fireworks';\r\n            let num = 12 + Math.floor(Math.random() * 11);\r\n            ele.alpha = 1;\r\n            ele.skin = SkinUrl[num];\r\n            parent.addChild(ele);\r\n            ele.pos(x, y);\r\n            let scirpt = ele.getComponent(Fireworks);\r\n            if (!scirpt) {\r\n                ele.addComponent(Fireworks);\r\n            }\r\n        }\r\n    }\r\n    OldEffects.createFireworks = createFireworks;\r\n    class Fireworks extends EffectsBase {\r\n        lwgInit() {\r\n            this.self.width = 41;\r\n            this.self.height = 41;\r\n            this.self.pivotX = this.self.width / 2;\r\n            this.self.pivotY = this.self.height / 2;\r\n        }\r\n        initProperty() {\r\n            this.startAngle = 360 * Math.random();\r\n            this.startSpeed = 5 * Math.random() + 5;\r\n            this.startScale = 0.4 + Math.random() * 0.6;\r\n            this.accelerated = 0.1;\r\n            this.continueTime = 200 + Math.random() * 10;\r\n        }\r\n        moveRules() {\r\n            this.timer++;\r\n            if (this.timer >= this.continueTime * 3 / 5) {\r\n                this.self.alpha -= 0.1;\r\n            }\r\n            if (this.timer >= this.continueTime) {\r\n                this.self.removeSelf();\r\n            }\r\n            else {\r\n                this.commonSpeedXYByAngle(this.startAngle, this.startSpeed);\r\n            }\r\n            if (this.self.scaleX < 0) {\r\n                this.self.scaleX += 0.01;\r\n            }\r\n            else if (this.self.scaleX >= this.startScale) {\r\n                this.self.scaleX -= 0.01;\r\n            }\r\n        }\r\n    }\r\n    OldEffects.Fireworks = Fireworks;\r\n    function createLeftOrRightJet(parent, direction, quantity, x, y) {\r\n        for (let index = 0; index < quantity; index++) {\r\n            let ele = Laya.Pool.getItemByClass('Jet', Laya.Image);\r\n            ele.name = 'Jet';\r\n            let num = 12 + Math.floor(Math.random() * 11);\r\n            ele.skin = SkinUrl[num];\r\n            ele.alpha = 1;\r\n            parent.addChild(ele);\r\n            ele.pos(x, y);\r\n            let scirpt = ele.getComponent(leftOrRightJet);\r\n            if (!scirpt) {\r\n                ele.addComponent(leftOrRightJet);\r\n                let scirpt1 = ele.getComponent(leftOrRightJet);\r\n                scirpt1.direction = direction;\r\n                scirpt1.initProperty();\r\n            }\r\n            else {\r\n                scirpt.direction = direction;\r\n                scirpt.initProperty();\r\n            }\r\n        }\r\n    }\r\n    OldEffects.createLeftOrRightJet = createLeftOrRightJet;\r\n    class leftOrRightJet extends EffectsBase {\r\n        lwgInit() {\r\n            this.self.width = 41;\r\n            this.self.height = 41;\r\n            this.self.pivotX = this.self.width / 2;\r\n            this.self.pivotY = this.self.height / 2;\r\n        }\r\n        initProperty() {\r\n            if (this.direction === 'left') {\r\n                this.startAngle = 100 * Math.random() - 90 + 45 - 10 - 20;\r\n            }\r\n            else if (this.direction === 'right') {\r\n                this.startAngle = 100 * Math.random() + 90 + 45 + 20;\r\n            }\r\n            this.startSpeed = 10 * Math.random() + 3;\r\n            this.startScale = 0.4 + Math.random() * 0.6;\r\n            this.accelerated = 0.1;\r\n            this.continueTime = 300 + Math.random() * 50;\r\n            this.randomRotate = 1 + Math.random() * 20;\r\n        }\r\n        moveRules() {\r\n            this.timer++;\r\n            if (this.timer >= this.continueTime * 3 / 5) {\r\n                this.self.alpha -= 0.1;\r\n            }\r\n            if (this.timer >= this.continueTime) {\r\n                this.self.removeSelf();\r\n            }\r\n            else {\r\n                this.commonSpeedXYByAngle(this.startAngle, this.startSpeed);\r\n            }\r\n            this.self.rotation += this.randomRotate;\r\n            if (this.self.scaleX < 0) {\r\n                this.self.scaleX += 0.01;\r\n            }\r\n            else if (this.self.scaleX >= this.startScale) {\r\n                this.self.scaleX -= 0.01;\r\n            }\r\n        }\r\n    }\r\n    OldEffects.leftOrRightJet = leftOrRightJet;\r\n})(OldEffects || (OldEffects = {}));\r\nexport default OldEffects;\r\n",
  "references": [
    "C:/Users/tomato/Desktop/Drawing_2.5.0/src/script/Frame/Lwg.ts"
  ]
}
