{
  "code": "import { Admin } from \"./Lwg\";\r\nexport var _TiliXT;\r\n(function (_TiliXT) {\r\n    _TiliXT._execution = {\r\n        get value() {\r\n            if (!this['_TiliXT_executionNum']) {\r\n                return Laya.LocalStorage.getItem('_TiliXT_executionNum') ? Number(Laya.LocalStorage.getItem('_TiliXT_executionNum')) : 5;\r\n            }\r\n            return this['_TiliXT_executionNum'];\r\n        },\r\n        set value(val) {\r\n            console.log(val);\r\n            this['_TiliXT_executionNum'] = val;\r\n            _TiliXT.Num.value = val.toString();\r\n            Laya.LocalStorage.setItem('_TiliXT_executionNum', val.toString());\r\n        }\r\n    };\r\n    _TiliXT._addExDate = {\r\n        get value() {\r\n            if (!this['_TiliXT_addExDate']) {\r\n                return Laya.LocalStorage.getItem('_TiliXT_addExDate') ? Number(Laya.LocalStorage.getItem('_TiliXT_addExDate')) : (new Date()).getDay();\r\n            }\r\n            return this['_TiliXT_addExDate'];\r\n        },\r\n        set value(val) {\r\n            this['_TiliXT_addExDate'] = val;\r\n            Laya.LocalStorage.setItem('_TiliXT_addExDate', val.toString());\r\n        }\r\n    };\r\n    _TiliXT._addExHours = {\r\n        get value() {\r\n            if (!this['_TiliXT_addExHours']) {\r\n                return Laya.LocalStorage.getItem('_TiliXT_addExHours') ? Number(Laya.LocalStorage.getItem('_TiliXT_addExHours')) : (new Date()).getHours();\r\n            }\r\n            return this['_TiliXT_addExHours'];\r\n        },\r\n        set value(val) {\r\n            this['_TiliXT_addExHours'] = val;\r\n            Laya.LocalStorage.setItem('_TiliXT_addExHours', val.toString());\r\n        }\r\n    };\r\n    _TiliXT._addMinutes = {\r\n        get value() {\r\n            if (!this['_TiliXT_addMinutes']) {\r\n                return Laya.LocalStorage.getItem('_TiliXT_addMinutes') ? Number(Laya.LocalStorage.getItem('_TiliXT_addMinutes')) : (new Date()).getMinutes();\r\n            }\r\n            return this['_TiliXT_addMinutes'];\r\n        },\r\n        set value(val) {\r\n            this['_TiliXT_addMinutes'] = val;\r\n            Laya.LocalStorage.setItem('_TiliXT_addMinutes', val.toString());\r\n        }\r\n    };\r\n    class TiliXT extends Admin._SceneBase {\r\n        constructor() {\r\n            super(...arguments);\r\n            this.time = 0;\r\n            this.countNum = 59;\r\n            this.timeSwitch = true;\r\n        }\r\n        lwgOnAwake() {\r\n            _TiliXT.Num = this.ImgVar(\"ExecutionNum\").getChildByName('Num');\r\n            this.CountDown = this.ImgVar(\"ExecutionNum\").getChildByName('CountDown');\r\n            this.CountDown_board = this.ImgVar(\"ExecutionNum\").getChildByName('CountDown_board');\r\n            this.countNum = 59;\r\n            this.CountDown.text = '00:' + this.countNum;\r\n            this.CountDown_board.text = this.CountDown.text;\r\n            let d = new Date;\r\n            if (d.getDate() !== _TiliXT._addExDate.value) {\r\n                _TiliXT._execution.value = 5;\r\n            }\r\n            else {\r\n                if (d.getHours() == _TiliXT._addExHours.value) {\r\n                    console.log(d.getMinutes(), _TiliXT._addMinutes.value);\r\n                    _TiliXT._execution.value += (d.getMinutes() - _TiliXT._addMinutes.value);\r\n                    if (_TiliXT._execution.value > 5) {\r\n                        _TiliXT._execution.value = 5;\r\n                    }\r\n                }\r\n                else {\r\n                    _TiliXT._execution.value = 5;\r\n                }\r\n            }\r\n            _TiliXT.Num.value = _TiliXT._execution.value.toString();\r\n            _TiliXT._addExDate.value = d.getDate();\r\n            _TiliXT._addExHours.value = d.getHours();\r\n            _TiliXT._addMinutes.value = d.getMinutes();\r\n        }\r\n        countDownAddEx() {\r\n            this.time++;\r\n            if (this.time % 60 == 0) {\r\n                this.countNum--;\r\n                if (this.countNum < 0) {\r\n                    this.countNum = 59;\r\n                    _TiliXT._execution.value += 1;\r\n                    _TiliXT.Num.value = _TiliXT._execution.value.toString();\r\n                    let d = new Date;\r\n                    _TiliXT._addExHours.value = d.getHours();\r\n                    _TiliXT._addMinutes.value = d.getMinutes();\r\n                }\r\n                if (this.countNum >= 10 && this.countNum <= 59) {\r\n                    this.CountDown.text = '00:' + this.countNum;\r\n                    this.CountDown_board.text = this.CountDown.text;\r\n                }\r\n                else if (this.countNum >= 0 && this.countNum < 10) {\r\n                    this.CountDown.text = '00:0' + this.countNum;\r\n                    this.CountDown_board.text = this.CountDown.text;\r\n                }\r\n            }\r\n        }\r\n        lwgOnUpdate() {\r\n            if (Number(_TiliXT.Num.value) >= 5) {\r\n                if (this.timeSwitch) {\r\n                    _TiliXT._execution.value = 5;\r\n                    _TiliXT.Num.value = _TiliXT._execution.value.toString();\r\n                    this.CountDown.text = '00:00';\r\n                    this.CountDown_board.text = this.CountDown.text;\r\n                    this.countNum = 60;\r\n                    this.timeSwitch = false;\r\n                }\r\n            }\r\n            else {\r\n                this.timeSwitch = true;\r\n                this.countDownAddEx();\r\n            }\r\n        }\r\n    }\r\n    _TiliXT.TiliXT = TiliXT;\r\n})(_TiliXT || (_TiliXT = {}));\r\nexport default _TiliXT.TiliXT;\r\n",
  "references": [
    "D:/Game/project/Drawing/Project_2.5.0/Drawing_2.5.0/src/script/TJ/Admanager.ts",
    "D:/Game/project/Drawing/Project_2.5.0/Drawing_2.5.0/src/script/Frame/Lwg.ts"
  ]
}
