{
  "code": "import ADManager, { TaT } from \"../TJ/Admanager\";\r\nimport ZJADMgr from \"../TJ/ZJADMgr\";\r\nimport { Admin, Click, EventAdmin, Tools, _SceneName } from \"./Lwg\";\r\nimport { _Game } from \"./_Game\";\r\nimport { _SelectLevel } from \"./_SelectLevel\";\r\nexport var _PropTry;\r\n(function (_PropTry) {\r\n    _PropTry._presentTry = false;\r\n    _PropTry._comeFrom = _SceneName.SelectLevel;\r\n    function _init() { }\r\n    _PropTry._init = _init;\r\n    let _Event;\r\n    (function (_Event) {\r\n        _Event[_Event[\"_PropTryClose\"] = 0] = \"_PropTryClose\";\r\n    })(_Event = _PropTry._Event || (_PropTry._Event = {}));\r\n    class PropTryBase extends Admin._SceneBase {\r\n        moduleOnAwake() {\r\n            _PropTry._beforeTry = _Game._Pencils.presentUse;\r\n        }\r\n    }\r\n    _PropTry.PropTryBase = PropTryBase;\r\n    class PropTry extends PropTryBase {\r\n        lwgOnAwake() {\r\n            ADManager.TAPoint(TaT.BtnShow, 'UIPropTry_BtnGet');\r\n            if (Admin._platform.name == Admin._platform.tpye.Research || Admin._platform.name == Admin._platform.tpye.WebTest) {\r\n                Tools.Node.showExcludedChild2D(this.ImgVar('Platform'), [Admin._platform.tpye.Bytedance], true);\r\n                Tools.Node.showExcludedChild2D(this.ImgVar(Admin._platform.tpye.Bytedance), ['High'], true);\r\n            }\r\n            else {\r\n                Tools.Node.showExcludedChild2D(this.ImgVar('Platform'), [Admin._platform.name], true);\r\n                if (Admin._platform.name == Admin._platform.tpye.Bytedance) {\r\n                    Tools.Node.showExcludedChild2D(this.ImgVar(Admin._platform.tpye.Bytedance), [ZJADMgr.ins.shieldLevel], true);\r\n                }\r\n            }\r\n        }\r\n        lwgOnEnable() {\r\n            this.ImgVar('BtnClose').visible = false;\r\n            Laya.timer.once(2000, this, () => {\r\n                this.ImgVar('BtnClose').visible = true;\r\n            });\r\n        }\r\n        lwgEventRegister() {\r\n            EventAdmin._register(_Event._PropTryClose, this, () => {\r\n                if (_PropTry._comeFrom == _SceneName.SelectLevel) {\r\n                    let levelName = _SceneName.Game + '_' + _SelectLevel._Data._pich.customs;\r\n                    this.lwgOpenScene(levelName, true, () => {\r\n                        if (!Admin._sceneControl[levelName].getComponent(_Game.Game)) {\r\n                            Admin._sceneControl[levelName].addComponent(_Game.Game);\r\n                        }\r\n                    });\r\n                    EventAdmin._notify(_SelectLevel._Event._SelectLevel_Close);\r\n                }\r\n                else {\r\n                    this.lwgCloseScene();\r\n                }\r\n            });\r\n        }\r\n        lwgBtnClick() {\r\n            Click._on(Click._Type.noEffect, this.ImgVar('Bytedance_Low_Select'), this, null, null, this.bytedanceSelectUp);\r\n            Click._on(Click._Type.largen, this.ImgVar('Bytedance_Low_BtnGet'), this, null, null, this.bytedanceGetUp);\r\n            Click._on(Click._Type.noEffect, this.ImgVar('Bytedance_Mid_Select'), this, null, null, this.bytedanceSelectUp);\r\n            Click._on(Click._Type.largen, this.ImgVar('Bytedance_Mid_BtnGet'), this, null, null, this.bytedanceGetUp);\r\n            Click._on(Click._Type.noEffect, this.ImgVar('ClickBg'), this, null, null, this.clickBgtUp);\r\n            Click._on(Click._Type.largen, this.ImgVar('Bytedance_High_BtnGet'), this, null, null, this.bytedanceGetUp);\r\n            Click._on(Click._Type.largen, this.ImgVar('Bytedance_High_BtnNo'), this, null, null, (e) => {\r\n                e.stopPropagation();\r\n                EventAdmin._notify(_Event._PropTryClose);\r\n            });\r\n            Click._on(Click._Type.largen, this.ImgVar('OPPO_BtnNo'), this, null, null, (e) => {\r\n                e.stopPropagation();\r\n                EventAdmin._notify(_Event._PropTryClose);\r\n            });\r\n            Click._on(Click._Type.largen, this.ImgVar('OPPO_BtnGet'), this, null, null, (e) => {\r\n                e.stopPropagation();\r\n                this.advFunc();\r\n            });\r\n            Click._on(Click._Type.largen, this.ImgVar('BtnClose'), this, null, null, (e) => {\r\n                e.stopPropagation();\r\n                EventAdmin._notify(_Event._PropTryClose);\r\n            });\r\n        }\r\n        clickBgtUp(e) {\r\n            e.stopPropagation();\r\n            if (Admin._platform.name !== Admin._platform.tpye.Bytedance) {\r\n                return;\r\n            }\r\n            let Dot;\r\n            if (this.ImgVar('Low').visible) {\r\n                Dot = this.ImgVar('Bytedance_Low_Dot');\r\n            }\r\n            else if (this.ImgVar('Mid').visible) {\r\n                Dot = this.ImgVar('Bytedance_Mid_Dot');\r\n            }\r\n            if (!Dot) {\r\n                return;\r\n            }\r\n            if (Dot.visible) {\r\n                this.advFunc();\r\n            }\r\n            else {\r\n                this.lwgOpenScene(_SceneName.Game);\r\n            }\r\n        }\r\n        bytedanceGetUp(e) {\r\n            e.stopPropagation();\r\n            this.advFunc();\r\n        }\r\n        bytedanceSelectUp(e) {\r\n            e.stopPropagation();\r\n            if (this.ImgVar('Low').visible) {\r\n                if (!this.ImgVar('Low')['count']) {\r\n                    this.ImgVar('Low')['count'] = 0;\r\n                }\r\n                this.ImgVar('Low')['count']++;\r\n                if (this.ImgVar('Low')['count'] >= 4) {\r\n                    if (this.ImgVar('Bytedance_Low_Dot').visible) {\r\n                        this.ImgVar('Bytedance_Low_Dot').visible = false;\r\n                    }\r\n                    else {\r\n                        this.ImgVar('Bytedance_Low_Dot').visible = true;\r\n                    }\r\n                }\r\n                if (ZJADMgr.ins.CheckPlayVideo()) {\r\n                    ADManager.ShowReward(null);\r\n                }\r\n            }\r\n            else if (this.ImgVar('Mid').visible) {\r\n                if (!this.ImgVar('Mid')['count']) {\r\n                    this.ImgVar('Mid')['count'] = 0;\r\n                }\r\n                this.ImgVar('Mid')['count']++;\r\n                if (this.ImgVar('Mid')['count'] >= 4) {\r\n                    if (this.ImgVar('Bytedance_Mid_Dot').visible) {\r\n                        this.ImgVar('Bytedance_Mid_Dot').visible = false;\r\n                    }\r\n                    else {\r\n                        this.ImgVar('Bytedance_Mid_Dot').visible = true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        advFunc() {\r\n            ADManager.ShowReward(() => {\r\n                ADManager.TAPoint(TaT.BtnClick, 'UIPropTry_BtnGet');\r\n                _Game._SingleColorPencils._setPitchByName('colours');\r\n                _Game._ColoursPencils._Switch = true;\r\n                EventAdmin._notify(_Event._PropTryClose);\r\n            });\r\n        }\r\n        onDisable() {\r\n            _Game._activate = true;\r\n        }\r\n    }\r\n    _PropTry.PropTry = PropTry;\r\n})(_PropTry || (_PropTry = {}));\r\nexport default _PropTry.PropTry;\r\n",
  "references": [
    "D:/Game/project/Drawing/Project_2.5.0/Drawing_2.5.0/src/script/TJ/Admanager.ts",
    "D:/Game/project/Drawing/Project_2.5.0/Drawing_2.5.0/src/script/TJ/ZJADMgr.ts",
    "D:/Game/project/Drawing/Project_2.5.0/Drawing_2.5.0/src/script/Frame/Lwg.ts",
    "D:/Game/project/Drawing/Project_2.5.0/Drawing_2.5.0/src/script/Frame/_Game.ts",
    "D:/Game/project/Drawing/Project_2.5.0/Drawing_2.5.0/src/script/Frame/_SelectLevel.ts"
  ]
}
